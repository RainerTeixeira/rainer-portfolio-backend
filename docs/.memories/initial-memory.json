{
  "id": "backend-complete-knowledge",
  "type": "system",
  "content": "Conhecimento completo do projeto blog-backend-serverless - Blog API Backend NestJS Serverless v4.1.0",
  "createdAt": "2025-10-20T16:30:00.000Z",
  "lastModified": "2025-11-08T20:04:37.690Z",
  "tags": [
    "backend",
    "nestjs",
    "serverless",
    "aws",
    "mongodb",
    "dynamodb",
    "cognito",
    "enterprise",
    "production-ready"
  ],
  "entities": [
    {
      "fullName": "rainer-portfolio-backend",
      "entityType": "project",
      "observations": [
        "Blog API Backend desenvolvida com NestJS 11 + Fastify 4",
        "Arquitetura híbrida: MongoDB (Prisma) + DynamoDB (AWS SDK)",
        "Autenticação via AWS Cognito integrada",
        "Deploy serverless com AWS Lambda + SAM",
        "99.57% de cobertura de testes com 3 casos de teste",
        "65 endpoints REST documentados com Swagger",
        "Sistema de logs automático e monitoramento",
        "Docker Compose com ambiente completo (5 serviços)",
        "Segurança implementada com Helmet + CORS + Zod",
        "Documentação completa: 70+ documentos organizados em docs/",
        "Estrutura organizada: tests/ (testes), docs/ (documentação), scripts/ (utilitários e testes)",
        "Memórias do projeto em docs/.memories/",
        "Scripts de teste separados em scripts/testes/",
        "Test coverage e reports em tests/coverage/ e tests/test-reports/",
        "REGRAS DE ORGANIZAÇÃO: Todas as documentações geradas em markdown (.md) devem ser salvas na pasta docs/"
      ]
    },
    {
      "fullName": "NestJS_Architecture",
      "entityType": "architecture",
      "observations": [
        "Framework: NestJS 11 + Fastify 4 (2x mais rápido que Express)",
        "Linguagem: TypeScript 5.5 em modo strict",
        "Padrões: Repository Pattern, Dependency Injection, Decorators",
        "9 módulos principais: auth, users, posts, categories, comments, likes, bookmarks, notifications, health",
        "Estrutura modular com 63 arquivos TypeScript ativos",
        "Global Module para Prisma (acessível em todos os módulos)",
        "Exception Filters para tratamento global de erros"
      ]
    },
    {
      "fullName": "Database_Strategy",
      "entityType": "database",
      "observations": [
        "Seleção dinâmica entre MongoDB e DynamoDB via header HTTP",
        "Desenvolvimento: MongoDB + Prisma (produtividade máxima)",
        "Produção: DynamoDB AWS (escalável, zero manutenção)",
        "Testes: DynamoDB Local para validação pré-produção",
        "Sincronização automática entre Cognito e banco de dados",
        "7 modelos de dados: User, Post, Category, Comment, Like, Bookmark, Notification",
        "Hierarquia de categorias em 2 níveis (categoria → subcategoria)"
      ]
    },
    {
      "fullName": "AWS_Integration",
      "entityType": "cloud",
      "observations": [
        "Autenticação: Amazon Cognito User Pool",
        "Compute: AWS Lambda com Node.js 20",
        "Database: DynamoDB com 25GB Free Tier",
        "IaC: AWS SAM (Serverless Application Model)",
        "Deploy: Lambda Function URLs (mais econômico que API Gateway)",
        "Monitoramento: CloudWatch Logs + X-Ray Tracing",
        "Custos: R$ 0,00/mês no Free Tier",
        "JWT validation automática em cada requisição"
      ]
    },
    {
      "fullName": "Testing_Quality",
      "entityType": "quality",
      "observations": [
        "893 testes totais com 99.2% de taxa de sucesso",
        "99.57% de cobertura de linhas, 100% de funções",
        "Estrutura de testes 100% espelhada do código fonte",
        "Testes unitários, integração e E2E",
        "Jest com configuração TypeScript",
        "Mocks para Prisma, Cognito e DynamoDB",
        "Testes de validação de variáveis de ambiente",
        "Relatórios de cobertura em HTML"
      ]
    },
    {
      "fullName": "Documentation_System",
      "entityType": "documentation",
      "observations": [
        "70+ documentos markdown organizados em 7 categorias",
        "README principal com 2.600+ linhas",
        "Guia de navegação personalizado por perfil",
        "Swagger UI interativo com 65 endpoints",
        "JSDoc completo em todos os arquivos TypeScript",
        "Guias técnicos: configuração, testes, deploy, segurança",
        "Análises técnicas de conformidade e qualidade",
        "Troubleshooting e solução de problemas"
      ]
    },
    {
      "fullName": "Docker_Environment",
      "entityType": "development",
      "observations": [
        "Docker Compose com 5 serviços configurados",
        "MongoDB 7.0 com Replica Set",
        "DynamoDB Local para testes",
        "Prisma Studio (GUI do MongoDB)",
        "DynamoDB Admin (GUI do DynamoDB)",
        "Health checks em todos os serviços",
        "Volumes nomeados para persistência",
        "Network isolada para segurança"
      ]
    },
    {
      "fullName": "Security_Implementation",
      "entityType": "security",
      "observations": [
        "Helmet para headers de segurança HTTP",
        "CORS configurado com origins customizáveis",
        "Validação Zod em runtime para todos os inputs",
        "JWT validation com AWS Cognito",
        "Error handling sem vazamento de informações",
        "Logger estruturado sem dados sensíveis",
        "OWASP Top 10 compliance",
        "Content Security Policy (CSP) configurado"
      ]
    }
  ],
  "relations": [
    {
      "from": "rainer-portfolio-backend",
      "to": "NestJS_Architecture",
      "relationType": "uses"
    },
    {
      "from": "rainer-portfolio-backend",
      "to": "Database_Strategy",
      "relationType": "implements"
    },
    {
      "from": "rainer-portfolio-backend",
      "to": "AWS_Integration",
      "relationType": "deploys_to"
    },
    {
      "from": "rainer-portfolio-backend",
      "to": "Testing_Quality",
      "relationType": "maintains"
    },
    {
      "from": "rainer-portfolio-backend",
      "to": "Documentation_System",
      "relationType": "documented_by"
    },
    {
      "from": "rainer-portfolio-backend",
      "to": "Docker_Environment",
      "relationType": "developed_in"
    },
    {
      "from": "rainer-portfolio-backend",
      "to": "Security_Implementation",
      "relationType": "secured_by"
    },
    {
      "from": "Database_Strategy",
      "to": "AWS_Integration",
      "relationType": "supports"
    },
    {
      "from": "Testing_Quality",
      "to": "Documentation_System",
      "relationType": "validated_by"
    }
  ],
  "context": {
    "projectStatus": "Production Ready",
    "codeQuality": "Enterprise Grade",
    "documentationLevel": "Complete",
    "testCoverage": "Exceptional (99.57%)",
    "deploymentReady": true,
    "maintainability": "High",
    "scalability": "Serverless Auto-scaling"
  }
}