/**
 * Interface do Repositório de Likes
 */

export interface ILikesRepository {
  /**
   * Adiciona ou remove like de um post
   */
  toggle(postId: string, userId: string): Promise<{ liked: boolean; totalLikes: number }>;

  /**
   * Verifica se usuário curtiu um post
   */
  isLiked(postId: string, userId: string): Promise<boolean>;

  /**
   * Lista usuários que curtiram um post
   */
  findLikers(postId: string, params?: {
    page?: number;
    limit?: number;
  }): Promise<{
    users: Array<{
      userId: string;
      fullName: string;
      nickname?: string;
      avatar?: string;
      likedAt: string;
    }>;
    pagination: {
      page: number;
      limit: number;
      total: number;
      totalPages: number;
    };
  }>;

  /**
   * Lista posts que usuário curtiu
   */
  findLikedPosts(userId: string, params?: {
    page?: number;
    limit?: number;
  }): Promise<{
    posts: Array<{
      postId: string;
      title: string;
      slug: string;
      likedAt: string;
    }>;
    pagination: {
      page: number;
      limit: number;
      total: number;
      totalPages: number;
    };
  }>;

  /**
   * Conta likes de um post
   */
  countByPost(postId: string): Promise<number>;

  /**
   * Conta posts que usuário curtiu
   */
  countByUser(userId: string): Promise<number>;
}
