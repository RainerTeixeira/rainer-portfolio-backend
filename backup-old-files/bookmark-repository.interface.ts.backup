/**
 * Interface do Repositório de Bookmarks
 */


export interface IBookmarksRepository {
  /**
   * Adiciona ou remove bookmark de um post
   */
  toggle(postId: string, userId: string): Promise<{ bookmarked: boolean; totalBookmarks: number }>;

  /**
   * Verifica se usuário salvou um post
   */
  isBookmarked(postId: string, userId: string): Promise<boolean>;

  /**
   * Lista posts salvos pelo usuário
   */
  findBookmarkedPosts(userId: string, params?: {
    page?: number;
    limit?: number;
  }): Promise<{
    posts: Array<{
      title: string;
      slug: string;
      bookmarkedAt: string;
    }>;
    pagination: {
      page: number;
      limit: number;
      total: number;
      totalPages: number;
    };
  }>;

  /**
   * Lista usuários que salvaram um post
   */
  findBookmarkers(postId: string, params?: {
    page?: number;
    limit?: number;
  }): Promise<{
    users: Array<{
      userId: string;
      fullName: string;
      nickname?: string;
      avatar?: string;
      bookmarkedAt: string;
    }>;
    pagination: {
      page: number;
      limit: number;
      total: number;
      totalPages: number;
    };
  }>;

  /**
   * Conta bookmarks de um post
   */
  countByPost(postId: string): Promise<number>;

  /**
   * Conta posts que usuário salvou
   */
  countByUser(userId: string): Promise<number>;
}
